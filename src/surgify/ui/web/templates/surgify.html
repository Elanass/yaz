{% extends "base.html" %}

{% block title %}Surgify - Clinical Decision Intelligence Platform{% endblock %}

{% block extra_head %}
<!-- Modern Font Stack -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

<!-- Enhanced Tailwind with all plugins -->
<script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,container-queries"></script>

<!-- Custom Tailwind Configuration -->
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        mono: ['JetBrains Mono', 'Monaco', 'monospace'],
      },
      colors: {
        primary: {
          50: '#eff6ff',
          500: '#3b82f6',
          600: '#2563eb',
          700: '#1d4ed8',
          900: '#1e3a8a'
        },
        surface: {
          50: '#f8fafc',
          100: '#f1f5f9',
          900: '#0f172a'
        }
      },
      animation: {
        'fade-in': 'fadeIn 0.5s ease-out',
        'slide-up': 'slideUp 0.3s ease-out',
        'scale-in': 'scaleIn 0.2s ease-out',
        'shimmer': 'shimmer 2s infinite',
        'pulse-slow': 'pulse 3s infinite',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' }
        },
        slideUp: {
          '0%': { transform: 'translateY(10px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' }
        },
        scaleIn: {
          '0%': { transform: 'scale(0.95)', opacity: '0' },
          '100%': { transform: 'scale(1)', opacity: '1' }
        },
        shimmer: {
          '0%, 100%': { transform: 'translateX(-100%)' },
          '50%': { transform: 'translateX(100%)' }
        }
      },
      backdropBlur: {
        xs: '2px',
      }
    }
  }
}
</script>

<!-- Modern Icons -->
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

<!-- Advanced CSS for Professional Styling -->
<style>
/* Glass Morphism Effects */
.glass-morphism {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.dark .glass-morphism {
  background: rgba(15, 23, 42, 0.85);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Enhanced Gradient Borders */
.gradient-border {
  background: linear-gradient(145deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  padding: 2px;
  border-radius: 1rem;
  position: relative;
  overflow: hidden;
}

.gradient-border::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(145deg, #667eea, #764ba2, #f093fb);
  opacity: 0.1;
  animation: shimmer 3s infinite;
}

.gradient-border-content {
  background: rgba(255, 255, 255, 0.95);
  border-radius: calc(1rem - 2px);
  position: relative;
  z-index: 1;
}

.dark .gradient-border-content {
  background: rgba(15, 23, 42, 0.95);
}

/* Professional Card Styling */
.floating-card {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px);
  box-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.1),
    0 1px 3px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateZ(0);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.floating-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.15),
    0 8px 25px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.dark .floating-card {
  background: rgba(15, 23, 42, 0.9);
  box-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.3),
    0 1px 3px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.dark .floating-card:hover {
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.5),
    0 8px 25px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* Neo-morphism Buttons */
.neo-button {
  background: linear-gradient(145deg, #ffffff, #f0f4f8);
  box-shadow: 
    8px 8px 20px rgba(174, 174, 192, 0.4),
    -8px -8px 20px rgba(255, 255, 255, 0.8);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.neo-button:hover {
  background: linear-gradient(145deg, #f0f4f8, #ffffff);
  transform: scale(1.05);
  box-shadow: 
    12px 12px 24px rgba(174, 174, 192, 0.5),
    -12px -12px 24px rgba(255, 255, 255, 0.9);
}

.neo-button:active {
  transform: scale(0.98);
  box-shadow: 
    inset 4px 4px 12px rgba(174, 174, 192, 0.4),
    inset -4px -4px 12px rgba(255, 255, 255, 0.8);
}

.dark .neo-button {
  background: linear-gradient(145deg, #1e293b, #334155);
  box-shadow: 
    8px 8px 20px rgba(0, 0, 0, 0.4),
    -8px -8px 20px rgba(71, 85, 105, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.dark .neo-button:hover {
  background: linear-gradient(145deg, #334155, #475569);
  box-shadow: 
    12px 12px 24px rgba(0, 0, 0, 0.5),
    -12px -12px 24px rgba(71, 85, 105, 0.4);
}

/* Loading Animations */
.loading-skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
  border-radius: 0.75rem;
}

.dark .loading-skeleton {
  background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
  background-size: 200% 100%;
}

/* Status Indicators */
.status-indicator {
  position: relative;
  overflow: hidden;
  border-radius: 9999px;
}

.status-indicator::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  animation: shimmer 2s infinite;
}

/* Glow Effects */
.glow-effect {
  box-shadow: 
    0 0 20px rgba(59, 130, 246, 0.3),
    0 0 40px rgba(59, 130, 246, 0.1);
}

.dark .glow-effect {
  box-shadow: 
    0 0 20px rgba(59, 130, 246, 0.5),
    0 0 40px rgba(59, 130, 246, 0.2);
}

/* Enhanced Text Readability */
.text-readable {
  line-height: 1.7;
  letter-spacing: 0.01em;
}

.dark .text-readable {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Professional Shadows */
.shadow-professional {
  box-shadow: 
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
}

.dark .shadow-professional {
  box-shadow: 
    0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -1px rgba(0, 0, 0, 0.2),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
}

/* Smooth Transitions */
.transition-smooth {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
</style>
{% endblock %}

{% block content %}
<!-- Main Application Container -->
<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900 font-sans">
  
  <!-- Navigation Header -->
  <header class="sticky top-0 z-50 glass-morphism border-b border-white/20 dark:border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        
        <!-- Logo & Brand -->
        <div class="flex items-center space-x-4 group">
          <div class="relative">
            <!-- Main Logo Container -->
            <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 flex items-center justify-center shadow-xl shadow-blue-500/25 group-hover:shadow-2xl group-hover:shadow-blue-500/40 transition-all duration-500 group-hover:scale-105">
              <!-- Medical Cross Icon -->
              <svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path d="M11 2v20h2V2h-2zM2 11v2h20v-2H2z"/>
                <path d="M7 7h10v10H7V7zm2 2v6h6V9H9z"/>
              </svg>
            </div>
            <!-- Glow Effect -->
            <div class="absolute -inset-1 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 rounded-2xl blur-sm opacity-30 group-hover:opacity-60 transition duration-500 animate-pulse-slow"></div>
          </div>
          <div class="flex flex-col">
            <div class="flex items-center space-x-2">
              <h1 class="text-2xl font-black bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 dark:from-white dark:via-blue-100 dark:to-indigo-100 bg-clip-text text-transparent tracking-tight">
                Surgify
              </h1>
              <!-- Live Indicator -->
              <div class="flex items-center space-x-1">
                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                <span class="text-xs font-medium text-green-600 dark:text-green-400">LIVE</span>
              </div>
            </div>
            <p class="text-xs font-medium text-slate-600 dark:text-slate-400 tracking-wide -mt-1">
              Clinical Decision Intelligence Platform
            </p>
          </div>
        </div>

        <!-- Enhanced Central Search -->
        <div class="flex-1 max-w-2xl mx-8">
          <div class="relative group">
            <!-- Search Icon -->
            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
              <i data-lucide="search" class="h-5 w-5 text-slate-500 dark:text-slate-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors duration-200"></i>
            </div>
            <!-- Search Input -->
            <input 
              type="text" 
              id="global-search"
              class="w-full pl-12 pr-16 py-4 bg-white/80 dark:bg-slate-800/80 border border-slate-200/60 dark:border-slate-600/60 rounded-2xl text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 focus:bg-white dark:focus:bg-slate-800 backdrop-blur-xl transition-all duration-300 shadow-lg shadow-slate-200/50 dark:shadow-slate-900/50 hover:shadow-xl hover:shadow-slate-200/60 dark:hover:shadow-slate-900/60"
              placeholder="Search cases, studies, collaborations, and insights..."
              autocomplete="off">
            <!-- Keyboard Shortcut -->
            <div class="absolute inset-y-0 right-0 pr-4 flex items-center space-x-2">
              <div class="hidden sm:flex items-center space-x-1">
                <kbd class="px-2.5 py-1.5 text-xs font-semibold text-slate-500 dark:text-slate-400 bg-slate-100/80 dark:bg-slate-700/80 border border-slate-300/50 dark:border-slate-600/50 rounded-lg shadow-sm">⌘</kbd>
                <kbd class="px-2.5 py-1.5 text-xs font-semibold text-slate-500 dark:text-slate-400 bg-slate-100/80 dark:bg-slate-700/80 border border-slate-300/50 dark:border-slate-600/50 rounded-lg shadow-sm">K</kbd>
              </div>
            </div>
            <!-- Search Results Dropdown (hidden by default) -->
            <div id="search-results" class="absolute top-full left-0 right-0 mt-2 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border border-slate-200/50 dark:border-slate-600/50 rounded-2xl shadow-2xl shadow-slate-200/50 dark:shadow-slate-900/50 hidden">
              <div class="p-4">
                <p class="text-sm text-slate-500 dark:text-slate-400">Start typing to search...</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Enhanced Actions & Profile -->
        <div class="flex items-center space-x-3">
          
          <!-- Quick Actions -->
          <button class="relative p-3 rounded-2xl bg-white/60 dark:bg-slate-800/60 hover:bg-white/90 dark:hover:bg-slate-700/90 border border-slate-200/50 dark:border-slate-600/50 transition-all duration-300 group shadow-lg hover:shadow-xl backdrop-blur-xl">
            <i data-lucide="plus" class="h-5 w-5 text-slate-600 dark:text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200"></i>
            <div class="absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-pulse shadow-sm"></div>
          </button>
          
          <!-- Notifications -->
          <button class="relative p-3 rounded-2xl bg-white/60 dark:bg-slate-800/60 hover:bg-white/90 dark:hover:bg-slate-700/90 border border-slate-200/50 dark:border-slate-600/50 transition-all duration-300 group shadow-lg hover:shadow-xl backdrop-blur-xl">
            <i data-lucide="bell" class="h-5 w-5 text-slate-600 dark:text-slate-400 group-hover:text-amber-600 dark:group-hover:text-amber-400 transition-colors duration-200"></i>
            <span class="absolute -top-1 -right-1 h-4 w-4 bg-gradient-to-r from-red-500 to-rose-600 rounded-full flex items-center justify-center">
              <span class="text-white text-xs font-bold">3</span>
            </span>
          </button>

          <!-- Enhanced Theme Toggle -->
          <button id="theme-toggle" class="relative p-3 rounded-2xl bg-white/60 dark:bg-slate-800/60 hover:bg-white/90 dark:hover:bg-slate-700/90 border border-slate-200/50 dark:border-slate-600/50 transition-all duration-300 group shadow-lg hover:shadow-xl backdrop-blur-xl overflow-hidden">
            <!-- Light Mode Icon -->
            <i data-lucide="sun" class="h-5 w-5 text-amber-500 group-hover:text-amber-600 transition-all duration-300 dark:opacity-0 dark:scale-0 dark:rotate-180"></i>
            <!-- Dark Mode Icon -->
            <i data-lucide="moon" class="h-5 w-5 text-indigo-400 group-hover:text-indigo-300 absolute inset-0 m-3 transition-all duration-300 opacity-0 scale-0 rotate-180 dark:opacity-100 dark:scale-100 dark:rotate-0"></i>
            <!-- Theme indicator dot -->
            <div class="absolute top-1 right-1 w-2 h-2 bg-gradient-to-r from-amber-400 to-orange-500 dark:from-indigo-400 dark:to-purple-500 rounded-full transition-all duration-300"></div>
          </button>

          <!-- Enhanced User Profile -->
          <div class="relative">
            <button class="flex items-center space-x-3 p-3 rounded-2xl bg-white/60 dark:bg-slate-800/60 hover:bg-white/90 dark:hover:bg-slate-700/90 border border-slate-200/50 dark:border-slate-600/50 transition-all duration-300 group shadow-lg hover:shadow-xl backdrop-blur-xl">
              <!-- Avatar -->
              <div class="relative">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-500 via-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                  <span class="text-white font-bold text-sm">DS</span>
                </div>
                <!-- Online Status -->
                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-slate-800 rounded-full"></div>
              </div>
              <!-- User Info -->
              <div class="hidden lg:block text-left">
                <p class="text-sm font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">Dr. Smith</p>
                <p class="text-xs text-slate-500 dark:text-slate-400 font-medium">Chief Surgeon</p>
              </div>
              <!-- Dropdown Arrow -->
              <i data-lucide="chevron-down" class="h-4 w-4 text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-300 transition-all duration-200 group-hover:rotate-180"></i>
            </button>
            
            <!-- User Dropdown Menu (hidden by default) -->
            <div class="absolute right-0 mt-2 w-64 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border border-slate-200/50 dark:border-slate-600/50 rounded-2xl shadow-2xl shadow-slate-200/50 dark:shadow-slate-900/50 hidden">
              <div class="p-4">
                <div class="flex items-center space-x-3 pb-3 border-b border-slate-200/50 dark:border-slate-600/50">
                  <div class="w-12 h-12 bg-gradient-to-br from-blue-500 via-indigo-600 to-purple-600 rounded-xl flex items-center justify-center">
                    <span class="text-white font-bold">DS</span>
                  </div>
                  <div>
                    <p class="font-semibold text-slate-900 dark:text-white">Dr. Smith</p>
                    <p class="text-sm text-slate-500 dark:text-slate-400">smith@hospital.com</p>
                  </div>
                </div>
                <div class="pt-3 space-y-1">
                  <a href="#" class="flex items-center space-x-2 px-3 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors">
                    <i data-lucide="user" class="h-4 w-4"></i>
                    <span class="text-sm">Profile</span>
                  </a>
                  <a href="#" class="flex items-center space-x-2 px-3 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors">
                    <i data-lucide="settings" class="h-4 w-4"></i>
                    <span class="text-sm">Settings</span>
                  </a>
                  <a href="#" class="flex items-center space-x-2 px-3 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors">
                    <i data-lucide="log-out" class="h-4 w-4"></i>
                    <span class="text-sm">Sign Out</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content Area -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <!-- Quick Stats Dashboard -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <div class="floating-card bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-slate-700/50">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm font-medium text-slate-600 dark:text-slate-400">Active Cases</p>
            <p class="text-3xl font-bold text-slate-900 dark:text-white" id="stats-active-cases">—</p>
            <p class="text-sm text-green-600 dark:text-green-400 flex items-center mt-1">
              <i data-lucide="trending-up" class="h-4 w-4 mr-1"></i>
              +12% from last month
            </p>
          </div>
          <div class="p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl">
            <i data-lucide="activity" class="h-6 w-6 text-blue-600 dark:text-blue-400"></i>
          </div>
        </div>
      </div>

      <div class="floating-card bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-slate-700/50">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm font-medium text-slate-600 dark:text-slate-400">Pending Reviews</p>
            <p class="text-3xl font-bold text-slate-900 dark:text-white" id="stats-pending-reviews">—</p>
            <p class="text-sm text-amber-600 dark:text-amber-400 flex items-center mt-1">
              <i data-lucide="clock" class="h-4 w-4 mr-1"></i>
              2 urgent
            </p>
          </div>
          <div class="p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl">
            <i data-lucide="file-check" class="h-6 w-6 text-amber-600 dark:text-amber-400"></i>
          </div>
        </div>
      </div>

      <div class="floating-card bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-slate-700/50">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm font-medium text-slate-600 dark:text-slate-400">Collaborations</p>
            <p class="text-3xl font-bold text-slate-900 dark:text-white" id="stats-collaborations">—</p>
            <p class="text-sm text-purple-600 dark:text-purple-400 flex items-center mt-1">
              <i data-lucide="users" class="h-4 w-4 mr-1"></i>
              3 active teams
            </p>
          </div>
          <div class="p-3 bg-purple-100 dark:bg-purple-900/50 rounded-xl">
            <i data-lucide="users" class="h-6 w-6 text-purple-600 dark:text-purple-400"></i>
          </div>
        </div>
      </div>

      <div class="floating-card bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-slate-700/50">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm font-medium text-slate-600 dark:text-slate-400">Success Rate</p>
            <p class="text-3xl font-bold text-slate-900 dark:text-white" id="stats-success-rate">—</p>
            <p class="text-sm text-green-600 dark:text-green-400 flex items-center mt-1">
              <i data-lucide="trending-up" class="h-4 w-4 mr-1"></i>
              Above average
            </p>
          </div>
          <div class="p-3 bg-green-100 dark:bg-green-900/50 rounded-xl">
            <i data-lucide="target" class="h-6 w-6 text-green-600 dark:text-green-400"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="flex flex-wrap gap-2 mb-8 p-1 bg-white/50 dark:bg-slate-800/50 rounded-2xl backdrop-blur-sm border border-white/20 dark:border-slate-700/50">
      <button onclick="showSection('cases')" class="tab-button active flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200">
        <i data-lucide="folder-open" class="h-4 w-4"></i>
        <span>Cases</span>
        <span class="ml-2 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full" id="cases-count">—</span>
      </button>
      <button onclick="showSection('proposals')" class="tab-button flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200">
        <i data-lucide="file-plus" class="h-4 w-4"></i>
        <span>Proposals</span>
        <span class="ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full" id="proposals-count">—</span>
      </button>
      <button onclick="showSection('collaborations')" class="tab-button flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200">
        <i data-lucide="users" class="h-4 w-4"></i>
        <span>Collaborations</span>
        <span class="ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full" id="collaborations-count">—</span>
      </button>
      <button onclick="showSection('studies')" class="tab-button flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-200">
        <i data-lucide="microscope" class="h-4 w-4"></i>
        <span>Studies</span>
        <span class="ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full" id="studies-count">—</span>
      </button>
    </div>

    <!-- Content Sections -->
    
    <!-- Cases Section -->
    <div id="cases-section" class="content-section animate-fade-in">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Active Cases</h2>
        <button class="neo-button px-6 py-3 rounded-xl text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300 flex items-center space-x-2">
          <i data-lucide="plus" class="h-4 w-4"></i>
          <span>New Case</span>
        </button>
      </div>
      <div id="cases-list" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
        <!-- Cases will be loaded dynamically -->
      </div>
    </div>

    <!-- Proposals Section -->
    <div id="proposals-section" class="content-section hidden animate-fade-in">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Surgical Proposals</h2>
        <button class="neo-button px-6 py-3 rounded-xl text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300 flex items-center space-x-2">
          <i data-lucide="plus" class="h-4 w-4"></i>
          <span>New Proposal</span>
        </button>
      </div>
      <div id="proposals-list" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
        <!-- Proposals will be loaded dynamically -->
      </div>
    </div>

    <!-- Collaborations Section -->
    <div id="collaborations-section" class="content-section hidden animate-fade-in">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Active Collaborations</h2>
        <button class="neo-button px-6 py-3 rounded-xl text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300 flex items-center space-x-2">
          <i data-lucide="plus" class="h-4 w-4"></i>
          <span>New Collaboration</span>
        </button>
      </div>
      <div id="collaborations-list" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
        <!-- Collaborations will be loaded dynamically -->
      </div>
    </div>

    <!-- Studies Section -->
    <div id="studies-section" class="content-section hidden animate-fade-in">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Research Studies</h2>
        <button class="neo-button px-6 py-3 rounded-xl text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300 flex items-center space-x-2">
          <i data-lucide="plus" class="h-4 w-4"></i>
          <span>New Study</span>
        </button>
      </div>
      <div id="studies-list" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
        <!-- Studies will be loaded dynamically -->
      </div>
    </div>

  </main>

  <!-- Floating Action Button -->
  <div class="fixed bottom-8 right-8 z-40">
    <button class="w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-2xl shadow-2xl hover:shadow-blue-500/25 transition-all duration-300 flex items-center justify-center group glow-effect">
      <i data-lucide="plus" class="h-6 w-6 group-hover:scale-110 transition-transform duration-200"></i>
    </button>
  </div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="fixed inset-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center hidden">
    <div class="flex flex-col items-center space-y-4">
      <div class="relative">
        <div class="w-12 h-12 border-4 border-blue-200 dark:border-blue-800 rounded-full animate-spin border-t-blue-600 dark:border-t-blue-400"></div>
        <div class="absolute inset-0 w-12 h-12 border-4 border-transparent rounded-full animate-pulse border-t-blue-400 dark:border-t-blue-300"></div>
      </div>
      <p class="text-sm font-medium text-slate-600 dark:text-slate-400">Loading...</p>
    </div>
  </div>
</div>

<!-- Initialize Icons -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  lucide.createIcons();
});
</script>
{% endblock %}
