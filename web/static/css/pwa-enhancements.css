/* Device-specific PWA adjustments for Decision Precision in Surgery */

/* Responsive layouts */
@media (min-width: 768px) {
  /* Desktop-class layouts on tablets and above */
  .dashboard-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
  
  .sidebar {
    display: block;
  }
  
  .menu-button {
    display: none;
  }
}

/* Touch vs Mouse vs Remote */
@media (pointer: coarse) {
  button, .clickable, .card, .nav-item, .action-button, input[type="checkbox"], input[type="radio"] {
    padding: 1rem;    /* larger hit targets for touch/remote */
    min-height: 44px; /* iOS minimum touch target size */
    min-width: 44px;
  }
  
  .decision-options .option {
    padding: 1.25rem;
    margin-bottom: 1rem;
  }
  
  /* Improve form elements for touch */
  select, input[type="text"], input[type="number"], input[type="search"] {
    padding: 0.75rem;
    font-size: 1rem;
  }
}

@media (pointer: fine) {
  button:hover, .clickable:hover, .card:hover, .nav-item:hover, .action-button:hover {
    opacity: 0.8;  /* hover for desktop */
    transition: opacity 0.2s ease;
  }
  
  .decision-options .option:hover {
    transform: translateY(-2px);
    transition: transform 0.2s ease;
  }
}

/* Keyboard/Remote focus */
:focus {
  outline: 3px solid var(--theme-color, #191410);
  outline-offset: 2px;
}

/* Safe area insets for notched devices */
.main-container {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Reduce driver distraction */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
  
  .animated-chart, .progress-indicator, .loading-spinner {
    animation-duration: 0s !important;
  }
  
  .decision-options .option:hover {
    transform: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: more) {
  body {
    color: #000000;
    background-color: #ffffff;
  }
  
  .card, .panel, .dialog {
    border: 1px solid #000000;
  }
  
  .text-subtle, .text-muted {
    color: #000000 !important;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  :root {
    --theme-color: #a29bfe;
  }
  
  body {
    background-color: #121212;
    color: #e0e0e0;
  }
  
  .card, .panel, .dialog {
    background-color: #1e1e1e;
    color: #f5f5f5;
  }
  
  input, select, textarea {
    background-color: #333;
    color: #f5f5f5;
    border-color: #555;
  }
}

/* Print styles for clinical reports */
@media print {
  .no-print, .header, .footer, .sidebar, .actions-bar {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    color: #000000;
    background-color: #ffffff;
  }
  
  .print-section {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  a[href]::after {
    content: " (" attr(href) ")";
  }
}
